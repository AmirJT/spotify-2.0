{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Container from'react-bootstrap/Container';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import ListGroup from'react-bootstrap/ListGroup';import'./PlaylistGenerator.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PlaylistGenerator=()=>{const[mood,setMood]=useState('');const[genre,setGenre]=useState('');const[activity,setActivity]=useState('');const[playlist,setPlaylist]=useState([]);const[savedPlaylists,setSavedPlaylists]=useState([]);const userId=1;useEffect(()=>{const fetchPlaylists=async()=>{try{const response=await axios.get(\"http://localhost:5001/api/playlist/user/\".concat(userId));setSavedPlaylists(response.data.playlists);}catch(error){console.error('Failed to fetch saved playlists',error);}};fetchPlaylists();},[userId]);const handleGeneratePlaylist=async()=>{try{const response=await axios.post('http://localhost:5001/api/playlist/generate',{userId,mood,genre,activity});setPlaylist(response.data.playlist.songs);}catch(error){console.error('Failed to generate playlist',error);}};return/*#__PURE__*/_jsx(Container,{className:\"playlist-container\",children:/*#__PURE__*/_jsxs(Card,{className:\"playlist-card p-4 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Playlist Generator\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Enter your mood\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Happy, Chill, Energetic...\",value:mood,onChange:e=>setMood(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Activity Type\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Workout, Studying, Relaxing...\",value:activity,onChange:e=>setActivity(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"w-100\",onClick:handleGeneratePlaylist,children:\"Generate Playlist\"})]}),playlist.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Generated Playlist\"}),/*#__PURE__*/_jsx(ListGroup,{children:playlist.map((song,index)=>/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:song.title}),\" by \",song.artist,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:song.spotifyUrl,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Listen on Spotify\"})]}),song.albumArt&&/*#__PURE__*/_jsx(\"img\",{src:song.albumArt,alt:\"Album Art\",className:\"album-art\"})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Saved Playlists\"}),savedPlaylists.length>0?savedPlaylists.map(savedPlaylist=>/*#__PURE__*/_jsxs(Card,{className:\"mb-3 p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:savedPlaylist.name}),/*#__PURE__*/_jsx(\"p\",{children:savedPlaylist.description}),/*#__PURE__*/_jsx(ListGroup,{children:savedPlaylist.songs.map((song,index)=>/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:song.title}),\" by \",song.artist,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:song.spotifyUrl,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Listen on Spotify\"})]},index))})]},savedPlaylist.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No saved playlists found.\"})]})]})});};export default PlaylistGenerator;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Form","Button","Card","ListGroup","jsx","_jsx","jsxs","_jsxs","PlaylistGenerator","mood","setMood","genre","setGenre","activity","setActivity","playlist","setPlaylist","savedPlaylists","setSavedPlaylists","userId","fetchPlaylists","response","get","concat","data","playlists","error","console","handleGeneratePlaylist","post","songs","className","children","Group","Label","Control","type","placeholder","value","onChange","e","target","variant","onClick","length","map","song","index","Item","title","artist","href","spotifyUrl","rel","albumArt","src","alt","savedPlaylist","name","description","id"],"sources":["/Users/amir/Desktop/spotify-2.0/frontend/src/components/PlaylistGenerator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport './PlaylistGenerator.css';\n\nconst PlaylistGenerator = () => {\n  const [mood, setMood] = useState('');\n  const [genre, setGenre] = useState('');\n  const [activity, setActivity] = useState('');\n  const [playlist, setPlaylist] = useState([]);\n  const [savedPlaylists, setSavedPlaylists] = useState([]);\n  const userId = 1;\n\n  useEffect(() => {\n    const fetchPlaylists = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5001/api/playlist/user/${userId}`);\n        setSavedPlaylists(response.data.playlists);\n      } catch (error) {\n        console.error('Failed to fetch saved playlists', error);\n      }\n    };\n    fetchPlaylists();\n  }, [userId]);\n\n  const handleGeneratePlaylist = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/playlist/generate', {\n        userId,\n        mood,\n        genre,\n        activity,\n      });\n      setPlaylist(response.data.playlist.songs);\n    } catch (error) {\n      console.error('Failed to generate playlist', error);\n    }\n  };\n\n  return (\n    <Container className=\"playlist-container\">\n      <Card className=\"playlist-card p-4 shadow-lg\">\n        <h2 className=\"text-center\">Playlist Generator</h2>\n        <Form>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Enter your mood</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Happy, Chill, Energetic...\"\n              value={mood}\n              onChange={(e) => setMood(e.target.value)}\n            />\n            </Form.Group>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Activity Type</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Workout, Studying, Relaxing...\"\n              value={activity}\n              onChange={(e) => setActivity(e.target.value)}\n            />\n          </Form.Group>\n          <Button variant=\"success\" className=\"w-100\" onClick={handleGeneratePlaylist}>\n            Generate Playlist\n          </Button>\n        </Form>\n        {playlist.length > 0 && (\n          <div className=\"mt-4\">\n            <h3>Generated Playlist</h3>\n            <ListGroup>\n              {playlist.map((song, index) => (\n                <ListGroup.Item key={index} className=\"d-flex justify-content-between align-items-center\">\n                  <div>\n                    <strong>{song.title}</strong> by {song.artist}\n                    <br />\n                    <a href={song.spotifyUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                      Listen on Spotify\n                    </a>\n                  </div>\n                  {song.albumArt && <img src={song.albumArt} alt=\"Album Art\" className=\"album-art\" />}\n                </ListGroup.Item>\n              ))}\n            </ListGroup>\n          </div>\n        )}\n        <div className=\"mt-4\">\n          <h3>Saved Playlists</h3>\n          {savedPlaylists.length > 0 ? (\n            savedPlaylists.map((savedPlaylist) => (\n              <Card key={savedPlaylist.id} className=\"mb-3 p-3\">\n                <h4>{savedPlaylist.name}</h4>\n                <p>{savedPlaylist.description}</p>\n                <ListGroup>\n                  {savedPlaylist.songs.map((song, index) => (\n                    <ListGroup.Item key={index}>\n                      <strong>{song.title}</strong> by {song.artist}\n                      <br />\n                      <a href={song.spotifyUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                        Listen on Spotify\n                      </a>\n                    </ListGroup.Item>\n                  ))}\n                </ListGroup>\n              </Card>\n            ))\n          ) : (\n            <p>No saved playlists found.</p>\n          )}\n        </div>\n      </Card>\n    </Container>\n  );\n};\n\nexport default PlaylistGenerator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}